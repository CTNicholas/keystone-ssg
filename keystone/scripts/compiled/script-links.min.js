!function(){"use strict";function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function n(n,e){var o;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(o=function(n,e){if(n){if("string"==typeof n)return t(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){o&&(n=o);var r=0,c=function(){};return{s:c,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){o=n[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw i}}}}!function(){function t(t){if(function(t){if(t.hash)return!1;var n=location.host===t.host,e=location.host+location.pathname+location.search!==t.host+t.pathname+t.search;return n&&e}(t.target)){var n=document.querySelector(".keystone-page-loading");!function(t){t&&(t.style.display="block")}(n),t.preventDefault(),i(t.target.getAttribute("href")).then((function(o){!function(t){t&&t.classList.add("keystone-page-loaded")}(n),e(o,t.target.href)}))}}function e(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=r();document.open(),document.write(t),document.close(),o(n,e,c)}function o(t,n,e){n||history.pushState(e,document.title,t)}function r(){var t=function(){var t=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0;return{x:window.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft||0,y:t}}();return{scroll:{x:t.x,y:t.y}}}function c(t){var n=location.href;i(n).then((function(o){var r,c;e(o,n,!0),r=t.state.scroll.x,c=t.state.scroll.y,a((function(){console.log("Scroll fix",r,c),window.scrollTo(r,c)}))}))}function i(t){try{return fetch(t).then((function(t){return t.text()})).catch((function(){return console.log}))}catch(n){console.log(n),window.location(t)}}function a(t){"interactive"===document.readyState||"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",(function(){t()}))}a((function(){!function(){var e,o=n(document.querySelectorAll("a"));try{for(o.s();!(e=o.n()).done;){e.value.addEventListener("click",t)}}catch(t){o.e(t)}finally{o.f()}}(),window.addEventListener("popstate",c)}))}()}();
